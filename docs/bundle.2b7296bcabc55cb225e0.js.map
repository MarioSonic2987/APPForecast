{"version":3,"sources":["webpack://api_recetas/./src/js/http-provider.js","webpack://api_recetas/./src/js/renderizar-html.js","webpack://api_recetas/./src/index.js"],"names":["main","document","querySelector","resultadosBusqueda","getElementById","input","addEventListener","async","evento","preventDefault","muestraLocal","sitio","resp","fetch","ok","console","log","datos","json","results","geometry","error","conexionAPILocalizacion","value","lat","muestraDatos","lon","data","conexionAPITiempo","lng","tiempo","classList","remove","innerHTML","city_name","weather","icon","description","temp","wind_spd","wind_cdir","wind_cdir_full","Math","round","uv","ob_time"],"mappings":"mBACA,MCAMA,EAAOC,SAASC,cAAc,QAC9BC,EAAqBF,SAASG,eAAe,sBCM7C,EAAOH,SAASC,cAAc,QAC9BG,EAAQJ,SAASG,eAAe,SAOtC,EAAKE,iBAAiB,UAAUC,MAAOC,IACnCA,EAAOC,iBACP,MAAMC,OFQ6BH,OAAOI,IAE1C,IACI,MAAMC,QAAaC,MAAM,mDAAwBF,0CAC5CC,EAAKE,IACNC,QAAQC,IAAI,qCAGhB,MAAMC,QAAcL,EAAKM,OAEzB,OADAH,QAAQC,IAAIC,EAAME,QAAQ,GAAGC,UACtBH,EAAME,QAAQ,GAAGC,SAC1B,MAAOC,GACL,MAAM,IEpBiBC,CAAwBjB,EAAMkB,OACzDR,QAAQC,IAAIN,EAAac,KACzB,MAAMC,OFVuBlB,OAAOiB,EAAKE,KAEzC,IACI,MAAMd,QAAaC,MAAM,+CAAoBW,SAAWE,kDACnDd,EAAKE,IACNC,QAAQC,IAAI,qCAGhB,MAAMC,QAAcL,EAAKM,OAEzB,OADAH,QAAQC,IAAIC,EAAMU,KAAK,IAChBV,EAAMU,KAAK,GACpB,MAAON,GACL,MAAM,IEFiBO,CAAkBlB,EAAac,IAAKd,EAAamB,KDflD,IAACC,ICgBZL,EDffzB,EAAK+B,UAAUC,OAAO,WACtB7B,EAAmB8B,UAAY,8EACsBH,EAAOI,4GAC2BJ,EAAOK,QAAQC,4FACjCN,EAAOK,QAAQE,oGACNP,EAAOQ,oFACnBR,EAAOS,iBAAiBT,EAAOU,cAAcV,EAAOW,iHAC/BC,KAAKC,MAAMb,EAAOc,mGACpBd,EAAOe,0D","file":"bundle.2b7296bcabc55cb225e0.js","sourcesContent":["//Datos conexión a las APIs\r\nconst APP_keyTiempo = '81c879c92ff84b31b065b56d8872bd3e';\r\nconst APITiempo = 'https://api.weatherbit.io/v2.0/current?'\r\n\r\nconst APP_keyLocalizacion = '760571002f414db39182295d64352634';\r\nconst APILocalizacion = 'https://api.opencagedata.com/geocode/v1/json?'\r\n\r\n\r\n\r\n//Conexión a la API\r\nexport const conexionAPITiempo = async (lat, lon) => {\r\n\r\n    try {\r\n        const resp = await fetch(`${APITiempo}&lat=${lat}&lon=${lon}&lang=es&key=${APP_keyTiempo}`);\r\n        if (!resp.ok) {\r\n            console.log('Ha habido un fallo en la conexión');\r\n        }\r\n    \r\n        const datos = await resp.json();\r\n        console.log(datos.data[0]);\r\n        return datos.data[0];\r\n    } catch (error) {\r\n        throw (error)\r\n    }\r\n}\r\n//Conexión a la API de la localización.\r\nexport const conexionAPILocalizacion = async (sitio) => {\r\n\r\n    try {\r\n        const resp = await fetch(`${APILocalizacion}&q=${sitio}&key=${APP_keyLocalizacion}`);\r\n        if (!resp.ok) {\r\n            console.log('Ha habido un fallo en la conexión');\r\n        }\r\n    \r\n        const datos = await resp.json();\r\n        console.log(datos.results[0].geometry);\r\n        return datos.results[0].geometry;\r\n    } catch (error) {\r\n        throw (error)\r\n    }\r\n}","//Seleccionamos elementos del HTML\r\nconst main = document.querySelector('main');\r\nconst resultadosBusqueda = document.getElementById('resultado-busqueda');\r\n\r\n\r\nexport const renderizarHTML = (tiempo) => {\r\n    main.classList.remove('inicial');\r\n    resultadosBusqueda.innerHTML = `<div class=\"item\">\r\n                                    <h1 class=\"titulo\">${tiempo.city_name}</h1>\r\n                                    <img src=\"https://www.weatherbit.io/static/img/icons/${tiempo.weather.icon}.png\"></img>\r\n                                    <p class=\"datos-tiempo\">Previsión: ${tiempo.weather.description}</p>\r\n                                    <p class=\"datos-tiempo\">Temperatura actual: ${tiempo.temp} ºC</p>\r\n                                    <p class=\"datos-tiempo\">Viento: ${tiempo.wind_spd} km/h ${tiempo.wind_cdir} (${tiempo.wind_cdir_full})</p>\r\n                                    <p class=\"datos-tiempo\">Radiación ultravioleta (UV): ${Math.round(tiempo.uv)}</p>\r\n                                    <p class=\"datos-observacion\">Fecha de observación: ${tiempo.ob_time}</p>\r\n                                </div>`\r\n}","//Importamos el css desde la carpeta donde se encuentra\r\nimport './css/style.css';\r\n\r\n//Importamos las funciones que se necesitan para que funcione la aplicación\r\nimport { conexionAPILocalizacion, conexionAPITiempo } from \"./js/http-provider\";\r\nimport { renderizarHTML } from './js/renderizar-html';\r\n\r\n//Elementos del DOM\r\nconst form = document.querySelector('form');\r\nconst input = document.getElementById('input');\r\n\r\n//Variables para la paginación\r\n\r\n\r\n\r\n//--------------------- EVENTOS ---------------------\r\nform.addEventListener('submit', async (evento) => {\r\n    evento.preventDefault();\r\n    const muestraLocal = await conexionAPILocalizacion(input.value);\r\n    console.log(muestraLocal.lat);\r\n    const muestraDatos = await conexionAPITiempo(muestraLocal.lat, muestraLocal.lng);\r\n    renderizarHTML(muestraDatos);\r\n});\r\n\r\n\r\n"],"sourceRoot":""}